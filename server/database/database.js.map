{"version":3,"sources":["../../source/database/database.js"],"names":["uri","process","env","MONGODB_URI","mongoose","Promise","global","connect","useNewUrlParser","err","db","assert","equal","console","log","connection","on","error","bind","set"],"mappings":";;;;;;;AAEA;;AACA;;;;AAHA;AAKA,MAAMA,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,mCAAvC;AACAC,kBAASC,OAAT,GAAmBC,MAAM,CAACD,OAA1B;;AACAD,kBAASG,OAAT,CACIP,GADJ,EAEI;AAAEQ,EAAAA,eAAe,EAAE;AAAnB,CAFJ,EAGI,UAASC,GAAT,EAAcC,EAAd,EAAkB;AACdC,kBAAOC,KAAP,CAAa,IAAb,EAAmBH,GAAnB;;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAFc,CAId;AACH,CARL;;AAWAV,kBAASW,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgCH,OAAO,CAACI,KAAR,CAAcC,IAAd,CAAmBL,OAAnB,EAA4B,2BAA5B,CAAhC;;AACAT,kBAASe,GAAT,CAAa,OAAb,EAAsB,IAAtB;;eAEef,kBAASW,U","sourcesContent":["// Mongoose connection\n\nimport mongoose from 'mongoose'\nimport assert from 'assert'\n\nconst uri = process.env.MONGODB_URI || 'mongodb://localhost/pollution-api'\nmongoose.Promise = global.Promise;\nmongoose.connect(\n    uri,\n    { useNewUrlParser: true },\n    function(err, db) {\n        assert.equal(null, err);\n        console.log(\"Connected successfully to database\");\n\n        // db.close(); turn on for testing\n    }\n);\n\nmongoose.connection.on(\"error\", console.error.bind(console, \"MongoDB connection Error:\"));\nmongoose.set(\"debug\", true);\n\nexport default mongoose.connection\n"],"file":"database.js"}